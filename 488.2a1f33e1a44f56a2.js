(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[488],{3488:(oe,P,D)=>{function v(e,r){return Object.is(e,r)}D.r(P),D.d(P,{REACTIVE_NODE:()=>a,SIGNAL:()=>c,SIGNAL_NODE:()=>_,consumerAfterComputation:()=>T,consumerBeforeComputation:()=>E,consumerDestroy:()=>V,consumerMarkDirty:()=>y,consumerPollProducersForChange:()=>x,createComputed:()=>B,createSignal:()=>J,createWatch:()=>Z,defaultEquals:()=>v,getActiveConsumer:()=>q,isInNotificationPhase:()=>F,isReactive:()=>j,producerAccessed:()=>f,producerIncrementEpoch:()=>L,producerMarkClean:()=>S,producerNotifyConsumers:()=>I,producerUpdateValueVersion:()=>g,producerUpdatesAllowed:()=>O,runPostSignalSetFn:()=>X,setActiveConsumer:()=>C,setAlternateWeakRefImpl:()=>re,setPostSignalSetFn:()=>K,setThrowInvalidWriteToSignalError:()=>z,signalSetFn:()=>G,signalUpdateFn:()=>Q});let t=null,s=!1,N=1;const c=Symbol("SIGNAL");function C(e){const r=t;return t=e,r}function q(){return t}function F(){return s}function j(e){return void 0!==e[c]}const a={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function f(e){if(s)throw new Error("");if(null===t)return;t.consumerOnSignalRead(e);const r=t.nextProducerIndex++;p(t),r<t.producerNode.length&&t.producerNode[r]!==e&&l(t)&&d(t.producerNode[r],t.producerIndexOfThis[r]),t.producerNode[r]!==e&&(t.producerNode[r]=e,t.producerIndexOfThis[r]=l(t)?M(e,t,r):0),t.producerLastReadVersion[r]=e.version}function L(){N++}function g(e){if((!l(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==N)){if(!e.producerMustRecompute(e)&&!x(e))return void S(e);e.producerRecomputeValue(e),S(e)}}function I(e){if(void 0===e.liveConsumerNode)return;const r=s;s=!0;try{for(const u of e.liveConsumerNode)u.dirty||y(u)}finally{s=r}}function O(){return!1!==t?.consumerAllowSignalWrites}function y(e){e.dirty=!0,I(e),e.consumerMarkedDirty?.(e)}function S(e){e.dirty=!1,e.lastCleanEpoch=N}function E(e){return e&&(e.nextProducerIndex=0),C(e)}function T(e,r){if(C(r),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(l(e))for(let u=e.nextProducerIndex;u<e.producerNode.length;u++)d(e.producerNode[u],e.producerIndexOfThis[u]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function x(e){p(e);for(let r=0;r<e.producerNode.length;r++){const u=e.producerNode[r],n=e.producerLastReadVersion[r];if(n!==u.version||(g(u),n!==u.version))return!0}return!1}function V(e){if(p(e),l(e))for(let r=0;r<e.producerNode.length;r++)d(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function M(e,r,u){if(W(e),0===e.liveConsumerNode.length&&k(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=M(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(u),e.liveConsumerNode.push(r)-1}function d(e,r){if(W(e),1===e.liveConsumerNode.length&&k(e))for(let n=0;n<e.producerNode.length;n++)d(e.producerNode[n],e.producerIndexOfThis[n]);const u=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[u],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[u],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[r],i=e.liveConsumerNode[r];p(i),i.producerIndexOfThis[n]=r}}function l(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function p(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function W(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function k(e){return void 0!==e.producerNode}function B(e){const r=Object.create($);r.computation=e;const u=()=>{if(g(r),f(r),r.value===m)throw r.error;return r.value};return u[c]=r,u}const A=Symbol("UNSET"),R=Symbol("COMPUTING"),m=Symbol("ERRORED"),$={...a,value:A,dirty:!0,error:null,equal:v,producerMustRecompute:e=>e.value===A||e.value===R,producerRecomputeValue(e){if(e.value===R)throw new Error("Detected cycle in computations.");const r=e.value;e.value=R;const u=E(e);let n;try{n=e.computation()}catch(i){n=m,e.error=i}finally{T(e,u)}r!==A&&r!==m&&n!==m&&e.equal(r,n)?e.value=r:(e.value=n,e.version++)}};let U=function H(){throw new Error};function b(){U()}function z(e){U=e}let h=null;function J(e){const r=Object.create(_);r.value=e;const u=()=>(f(r),r.value);return u[c]=r,u}function K(e){const r=h;return h=e,r}function G(e,r){O()||b(),e.equal(e.value,r)||(e.value=r,function Y(e){e.version++,L(),I(e),h?.()}(e))}function Q(e,r){O()||b(),G(e,r(e.value))}function X(){h?.()}const _={...a,equal:v,value:void 0};function Z(e,r,u){const n=Object.create(ee);u&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=r;const i=o=>{n.cleanupFn=o};return n.ref={notify:()=>y(n),run:()=>{if(null===n.fn)return;if(F())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!x(n))return;n.hasRun=!0;const o=E(n);try{n.cleanupFn(),n.cleanupFn=w,n.fn(i)}finally{T(n,o)}},cleanup:()=>n.cleanupFn(),destroy:()=>function ue(o){(function ne(o){return null===o.fn&&null===o.schedule})(o)||(V(o),o.cleanupFn(),o.fn=null,o.schedule=null,o.cleanupFn=w)}(n),[c]:n},n.ref}const w=()=>{},ee={...a,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:w};function re(e){}}}]);